<!DOCTYPE html>
<html lang="id">
   <head>
      <meta charset="utf-8" />
      <title>AR Bumi 3D</title>

      <!-- A-Frame & AR.js -->
      <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
      <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.2/aframe/build/aframe-ar.min.js"></script>

      <style>
         body {
            margin: 0;
            overflow: hidden;
            font-family: sans-serif;
         }
         #info-box {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 12px 20px;
            border-radius: 10px;
            font-size: 15px;
            text-align: center;
            opacity: 1;
            transition: opacity 0.3s;
         }
         #info-box.hidden {
            opacity: 0;
         }
      </style>
   </head>

   <body>
      <a-scene embedded arjs="trackingMethod: best; sourceType: webcam; facingMode: environment; debugUIEnabled: false;">
         <a-marker preset="hiro" id="markerHiro" emitevents="true">
            <!-- 🌍 Bumi -->
            <a-entity id="earthModel" gltf-model="Earth-1.glb" scale="2 2 2" position="0 0 0" rotation="20 45 0" animation="property: rotation; to: 20 405 0; loop: true; dur: 8000; easing: linear"></a-entity>
         </a-marker>

         <!-- Kamera diset sedikit miring dari atas -->
         <a-entity camera position="0 1 3" rotation="-10 0 0"></a-entity>
      </a-scene>

      <div id="info-box">Arahkan kamera ke marker Hiro...</div>

      <script>
         const infoBox = document.getElementById("info-box");
         const marker = document.getElementById("markerHiro");

         // Narasi awal
         window.onload = () => {
            const msg = new SpeechSynthesisUtterance("Ini adalah Bumi, planet ketiga dari Matahari, tempat kehidupan berkembang.");
            msg.lang = "id-ID";
            msg.rate = 1;
            speechSynthesis.speak(msg);
         };

         marker.addEventListener("markerFound", () => {
            infoBox.textContent = "🌍 Bumi — Planet ketiga dari Matahari, satu-satunya planet dengan kehidupan.";
            infoBox.classList.remove("hidden");

            const msg = new SpeechSynthesisUtterance("Bumi adalah planet ketiga dari Matahari, satu-satunya planet yang diketahui memiliki kehidupan.");
            msg.lang = "id-ID";
            msg.rate = 1;
            speechSynthesis.speak(msg);
         });

         marker.addEventListener("markerLost", () => {
            infoBox.textContent = "Marker tidak terlihat. Arahkan kamera ke marker Hiro.";
         });
      </script>
   </body>
</html>
